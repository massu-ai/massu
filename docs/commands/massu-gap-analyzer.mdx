---
title: "/massu-gap-analyzer"
description: "Analyze plan implementation for gaps and enhancement opportunities"
order: 31
---

# /massu-gap-analyzer

A read-only post-implementation analysis tool that compares a completed plan against its actual implementation to identify gaps, missing functionality, deviations, and enhancement opportunities. Produces a detailed report saved to `docs/reports/gap-analysis/`.

## Usage

```
/massu-gap-analyzer
```

The command will prompt for two inputs:
1. **Plan file path**: The original plan document that was implemented
2. **Implementation scope**: Files or directories touched during implementation

## Workflow Steps

### Phase 1: Plan Extraction and Inventory
Reads the complete plan document and extracts every deliverable into a structured inventory covering source code, MCP tools, config entries, tests, hooks, documentation, and scripts.

### Phase 2: Implementation Verification
For each plan item, runs verification checks:
- **Source code**: File exists, exports correct functions
- **Tool registration**: Tools defined, registered in `tools.ts`, handlers wired (CR-11)
- **Tests**: Test files exist, tests pass
- **Config**: Config entries present in `massu.config.yaml`
- **Hooks**: Hook files compile with esbuild
- **Cross-references**: New modules properly integrated (imports, types, exports)

### Phase 3: Gap Analysis
Identifies gaps across four dimensions:
- **Plan-to-implementation gaps**: Plan items that were not implemented or only partially completed
- **Cross-reference gaps**: Modules that exist but are not wired into the system
- **Error handling gaps**: Async operations without try-catch coverage
- **Test coverage gaps**: Source files without corresponding test files

Gaps are categorized by severity: CRITICAL (P0), REGISTRATION (P0), MAJOR (P1), MINOR (P2), and DEVIATION (P3).

### Phase 4: Enhancement Analysis
Identifies improvement opportunities in:
- **Code quality**: Empty catch blocks, unused imports, TODO/FIXME items
- **Performance**: Unbounded queries, repeated operations that could be cached
- **Security**: Input validation gaps, unvalidated external input
- **Testing**: Edge case coverage, error path testing

### Phase 5: Report Generation
Produces a comprehensive report with executive summary, coverage matrix, detailed gap report with remediation steps, enhancement recommendations, and prioritized action items.

### Phase 6: Report Saving
Saves the report to `docs/reports/gap-analysis/[DATE]-[plan-name]-gap-analysis.md`.

## When to Use

- **After `/massu-loop` completes**: Validate that all plan items were actually implemented
- **Before marking a plan as complete**: Identify gaps that may have been missed
- **Post-implementation review**: Discover enhancement opportunities that became apparent during development
- **Quality gate**: Use as a final check before moving to the next project phase
